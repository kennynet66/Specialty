<!-- <app-navbar></app-navbar> -->
<section class="text-gray-600 body-font">
    <div class="container mx-auto">
      <div class="text-center mb-20">
        <!-- <h1 class="sm:text-3xl text-2xl font-medium text-center title-font text-gray-900 mb-4">Your History</h1> -->
      </div>
      <!-- Display pending gigs -->
      <div>
      <h1 class="text-2xl m-2" >Pending gigs ({{pendingBookings.length}})</h1>
      <hr class="m-2">
      <div class="flex flex-wrap lg:w-4/5 sm:mx-auto sm:mb-2 -mx-2" *ngIf="pendingBookings.length >= 1">
        <div class="p-2 sm:w-1/2 w-full" *ngFor="let booking of pendingBookings">
          <span class="tracking-widest text-xs title-font font-medium text-gray-400 mb-1">Sent to: {{booking.sentTo | titlecase}}</span>
          <div class="bg-gray-100 rounded flex p-4 gap-2 h-full items-center" style="background-color: #f2f2f2;">
            <img src="{{booking.requestedPic}}" alt="" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
            <span class="title-font font-medium">{{booking.jobDescription}}</span>
          </div>
          <span class="tracking-widest text-xs ml-2 title-font font-medium text-yellow-400 mb-1" style="color: orange;"  *ngIf="!booking.isAccepted">Status: Pending</span>
          <span class="tracking-widest text-xs ml-2 title-font font-medium text-green-400 mb-1" style="color: green;" *ngIf="booking.isAccepted">Status: ongoing</span>
        </div>
        <!-- <button class="flex mx-auto mt-16 text-white bg-red-500 border-0 py-2 px-8 focus:outline-none hover:bg-red-600 rounded text-lg">Clear History</button> -->
      </div>
      </div>
      <!-- Display completed gigs -->
      <!-- <div>
      <h1 class="text-2xl m-2" >Completed Gigs ({{pendingBookings.length}})</h1>
      <hr class="m-2">
      <div class="flex flex-wrap lg:w-4/5 sm:mx-auto sm:mb-2 -mx-2" *ngIf="pendingBookings.length >= 1">
        <div class="p-2 sm:w-1/2 w-full" *ngFor="let booking of pendingBookings">
          <span class="tracking-widest text-xs title-font font-medium text-gray-400 mb-1">Sent to: {{booking.sentTo | titlecase}}</span>
          <div class="bg-gray-100 rounded flex p-4 gap-2 h-full items-center">
            <img src="{{booking.requestedPic}}" alt="" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
            <span class="title-font font-medium">{{booking.jobDescription}}</span>
          </div>
          <span class="tracking-widest text-xs ml-2 title-font font-medium text-green-400 mb-1">Status: Pending</span>
        </div>
        <button class="flex mx-auto mt-16 text-white bg-red-500 border-0 py-2 px-8 focus:outline-none hover:bg-red-600 rounded text-lg">Clear History</button>
      </div>
      </div> -->
      <!-- Display Cancelled gigs -->
      <div>
      <h1 class="text-2xl m-2" >Canceled gigs ({{cancelledBookings.length}})</h1>
      <hr class="m-2">
      <!-- If it's a normal user -->
      <div class="flex flex-wrap lg:w-4/5 sm:mx-auto sm:mb-2 -mx-2" *ngIf="canceledBookings.length >= 1 && role=='user'">
        <div class="p-2 sm:w-1/2 w-full" *ngFor="let booking of cancelledBookings">
          <span class="tracking-widest text-xs title-font font-medium text-gray-400 mb-1">Sent to: {{booking.sentTo}}</span>
          <div class="bg-gray-100 rounded flex p-4 gap-2 h-full items-center" style="background-color: #f2f2f2; display: flex; align-items: center;">
            <img src="{{booking.requestedPic}}" alt="" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
            <span class="title-font font-medium">{{booking.jobDescription}}</span>
          </div>
          <span class="tracking-widest text-xs ml-2 title-font font-medium text-red-400 mb-1" style="color: red;">Status: Cancelled</span>
        </div>
      </div>
      <!-- If it's a specialist -->
      <div class="flex flex-wrap lg:w-4/5 sm:mx-auto sm:mb-2 -mx-2" *ngIf="canceledBookings.length >= 1 && role=='specialist'">
        <div class="p-2 sm:w-1/2 w-full" *ngFor="let booking of cancelledBookings">
          <span class="tracking-widest text-xs title-font font-medium text-gray-400 mb-1">Sent by: {{booking.fullName | titlecase}}</span>
          <div class="bg-gray-100 rounded flex p-4 gap-2 h-full items-center" style="background-color: #f2f2f2; display: flex; align-items: center;">
            <img src="{{booking.requestedPic}}" alt="" style="width: 50px; height: 50px; border-radius: 50%; object-fit: cover;">
            <span class="title-font font-medium">{{booking.jobDescription}}</span>
          </div>
          <span class="tracking-widest text-xs ml-2 title-font font-medium text-red-400 mb-1" style="color: red;">Status: Cancelled</span>
        </div>
      </div>
      </div>
    </div>
  </section>